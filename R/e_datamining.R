e_datamining<-function(explaining=0){

if(explaining==0) {
cat("\014")
cat("\033[1;34m**************************************************************** \033[0m ", '\n')
cat("\033[1;31m## 변수의 순서변경 -------\033[0m ", '\n')
cat("  library(dplyr); library(bss2) ", '\n')
cat("  df%>%relocate(satprice , .after=id) ", '\n')
cat("   ", '\n')
cat("\033[1;31m## 화면 스크롤 갯수 확대 -------\033[0m ", '\n')
cat("  options(max.print=9999) ; options(dplyr.print_max=9999) ", '\n')
cat("   ", '\n')
cat("\033[1;31m## 미싱데이터값을 이전 값으로 채우기 -------\033[0m ", '\n')
cat("  zoo::na.locf(df) ", '\n')
cat("  # na.locf는 na는 미싱데이터NA를 말하고, locf는 Last Observation Carried Forward의 약자 ", '\n')
cat("   ", '\n')
cat("\033[1;31m## 2번째~4번째 컬럼 변수를 numeric 변수로 한꺼번에 바꾸기 -------- \033[0m ", '\n')
cat("   index<-c(2:4) ", '\n')
cat("   df[ ,index]<-lapply(df[,index], as.numeric) ", '\n')
cat("   ", '\n')
cat("\033[1;31m## 일부 변수를 선택해 새데이터셋 만들기 ------- \033[0m", '\n')
cat("  index <- c(2,4:6) ", '\n')
cat("  df2 <- df[ , index] ", '\n')
cat("\033[1;32m  df2<-sel22(df, 변수명1, 변수명2, 변수명3...)  #sel22를 사용해 새데이터셋 만들기\033[0m", '\n')
cat("   ", '\n')
cat("\033[1;31m## ifelse 사용법 -------- \033[0m ", '\n')
cat("  df$gender2<-ifelse(df$gender==1, 1, 0) ", '\n')
cat(" \033[1;31m gender변수가1이면 gender2를 1로, 그렇지 않으면 0으로 코딩\033[0m  ", '\n')
cat("   ", '\n')

invisible(readline(prompt="Press [enter] to continue"))
cat("\014")
cat("\033[1;34m**************************************************************** \033[0m ", '\n')
cat("\033[1;31m## dplyr의 filter를 사용하지 않고 자료를 솎아내 새dataset 만들기 -------\033[0m ", '\n')
cat("\033[1;31m## 데이터 갯수가 5천개 이상이면 dplyr의 filter 사용하세요 -------\033[0m ", '\n')
cat("  df2 <- df[ complete.cases(df$conv, df$satprice, df$age), ]  \033[1;31m## 미싱데이터NA 삭제 \033[0m", '\n')
cat("\033[1;32m  df2 <- comp22(df, satprice, age), ]  # satprice와 age의 NA 삭제 \033[0m", '\n')
cat("  df2 <- df[ complete.cases(df), ]  # 모든 미싱데이터NA 삭제 ", '\n')
cat("\033[1;32m  df2 <- comp22(df)  \033[1;32m # 모든 미싱데이터 삭제 \033[0m ", '\n')
cat("  df2 <- df[ df$debtratio !=Inf , ] ", '\n')
cat("  df2 <- df[ !is.na(df$debtratio) , ] ", '\n')
cat("  df2 <- df[ df$debtratio <= 124 , ] ", '\n')
cat("   ", '\n')
cat("\033[1;31m## wide format -> long format ------- \033[0m ", '\n')
cat("  df2<-reshape(df, idvar='id', varying=c(3:7), v.names='y', direction='long')  ", '\n')
cat("   ", '\n')
cat("\033[1;31m## 범주형변수:명목변수(성별.종교)/서열변수(학력.반등수)\033[0m ", '\n')
cat("\033[1;31m## 연속형변수:등간격변수(설문5점척도.IQ.온도)/비율변수(경력.시간.거리)\033[0m ", '\n')
cat("   ", '\n')

invisible(readline(prompt="Press [enter] to continue"))
cat("\014")
cat("\033[1;34m**************************************************************** \033[0m ", '\n')
cat("\033[1;31m## 통계 데이터형태 및 변수유형  -------- \033[0m ", '\n')
cat("   df<-as.data.frame(df)  \033[1;31m데이터프레임-통계 데이터형태\033[0m", '\n')
cat("   df$gender<-as.factor(df$gender)  \033[1;31m요인-범주형변수\033[0m", '\n')
cat("   df$ind<-as.character(df$ind)  \033[1;31m문자-범주형변수\033[0m", '\n')
cat("   df$ind<-as.numeric(df$ind)  \033[1;31m숫자-연속형변수\033[0m", '\n')
cat("   ", '\n')
cat("\033[1;31m## 데이터프레임의 특정 변수column 삭제 ------- \033[0m", '\n') 
cat("  df <- df[ , -c(2, 4:5)] ", '\n')
cat("\033[1;32m  df <- del22(df, 변수명1, 변수명2, ....)  # del22로 특정 변수 삭제 \033[0m ", '\n')
cat("   ", '\n')
cat("\033[1;31m## 데이터프레임의 특정 행row 지우기 ------- \033[0m", '\n') 
cat("  df <- df[-c(32, 53:88) ,      ] ", '\n')
cat("   ", '\n')
cat("\033[1;31m## 변수명 변경 -------\033[0m ", '\n')
cat("  df2<-BasicData[,c(1,3,7:10)] \033[1;31mbss2의 내장데이터BasicData를 df2로 저장\033[0m", '\n')
cat("  colnames(df2)<-c('id','brand','conv','satprice','age','gender') ", '\n')
cat("  colnames(df2)[6]<-c('성별') ", '\n')
cat("\033[1;32m  df <- renaming(df)  # renaming으로 변수명 변경 \033[0m ", '\n')
cat("   ", '\n')

invisible(readline(prompt="Press [enter] to continue"))
cat("\014")
cat("\033[1;34m**************************************************************** \033[0m ", '\n')
cat("  library(bss2) ", '\n')
cat("\033[1;31m## 더미변수 만들기 -------- \033[0m", '\n')
cat("\033[1;32m  df <- mkdum(df, 변수명)  # mkdum으로 더미변수 만들기 \033[0m ", '\n')
cat("   ", '\n')
cat("\033[1;31m## 그룹변수 만들기 ------- \033[0m", '\n')
cat("  cn<-quantile(df$inc, c(.25, .5, .75) , na.rm=T) ", '\n')
cat("\033[1;32m  df <- mkgroup(df, 변수명, cn)  # mkgroup으로 변수값을 그룹핑하기 \033[0m ", '\n')
cat("  \033[1;31m또는 cn값을 직접 입력... \033[0m", '\n')
cat("  cn<-c(200, 300, 400, 500) ", '\n')
cat("\033[1;32m  df <- mkgroup(df, 변수명, cn)  # g_변수명 생성\033[0m ", '\n')
cat("   ", '\n')
cat("\033[1;31m## 로그를 취한 변수 만들기 --------\033[0m ", '\n')
cat("\033[1;32m  df<-mklog(df, 변수명) # 변수에 로그를 취해 log_변수명 생성\033[0m", '\n')
cat("   ", '\n')
cat("\033[1;31m## 문자 레코드를 숫자로 바꾸기 --------\033[0m ", '\n')
cat("  df$brand2<-c2n(df$brand) ", '\n')
cat("   ", '\n')

invisible(readline(prompt="Press [enter] to continue"))
cat("\014")
cat("\033[1;34m**************************************************************** \033[0m ", '\n')
cat("\033[1;31m## 코드값 재코딩 -------\033[0m ", '\n')
cat("  library(bss2) ", '\n')
cat("   ", '\n')
cat("  \033[1;31m## 방법1(데이터 수가 많을 때... 약 5천개 이상) ------ \033[0m", '\n')
cat("  library(dplyr) ", '\n')
cat("  df$housing_se <- recode(df$housing, 'old1'='new1', 'old2'='new2') ", '\n')
cat("   ", '\n')
cat("  \033[1;31m## 방법2(데이터 수가 적을 때... 약 5천개 미만) ------\033[0m ", '\n')
cat("  df$gender2[df$gender==1] <- 1  \033[1;31m gender의 코딩값을 재코딩해 gender2로 저장\033[0m ", '\n')
cat("  df$gender2[df$gender==2] <- 0 ", '\n')
cat("\033[1;31m  df <- recoding(df, 변수명)   # Recoding 하기\033[0m ", '\n')
cat("   ", '\n')
cat("  df[df==''] <- NA  \033[1;31m csv데이터파일의 blank는 문자로 인식됨. csv파일의 blank를 NA로 바꾸는 코드\033[0m ", '\n')
cat("\033[1;31m  df<-comp22(df) \033[0m ", '\n')
cat("  \033[1;33mbss2의 opencsv로 csv파일을 로딩하면 csv파일의 blank문제는 신경쓰지 않아도 됩니다\033[0m ", '\n')
cat("   ", '\n')

invisible(readline(prompt="Press [enter] to continue"))
cat("\014")
cat("\033[1;34m**************************************************************** \033[0m ", '\n')
cat("\033[1;31m## 자료수 확인 ------- \033[0m", '\n')
cat("  sum(is.na(df$conv))  ", '\n')
cat("  sum(!is.na(df$conv))  ", '\n')
cat("  sum(df$brand=='Ford') ", '\n')
cat("   ", '\n')
cat("\033[1;31m## 화면 스크롤 저장하기 ------- \033[0m", '\n')
cat("  sink('결과저장.txt')  ", '\n')
cat("    ……  ", '\n')
cat("  sink()  ", '\n')
cat("   ", '\n')
cat("\033[1;31m## 문자 솎아내기 ------- \033[0m", '\n')
cat("  colnames(grdp)<-c('area1' , 'area2' , 'grdp19') ", '\n')
cat("  n<-nrow(grdp) ", '\n')
cat("  grdp$area3<-NA ", '\n')
cat("   ", '\n')
cat("\033[1;34m## 기초자치단체가 시/군/구 중 어디에 속하는지를 area3에 표시함  \033[0m ", '\n')
cat("   ", '\n')
cat("  for(i in 1:n){ ", '\n')
cat("  N1char<-nchar(grdp$area2[i]) ", '\n')
cat("  grdp$area3[i] <- substring(grdp$area2[i], N1char) } ", '\n')
cat("   ", '\n')
cat("\033[1;34m## 세입/세출자료와 GRDP자료를 merging하기 위해 기초자치단체명에서  \033[0m ", '\n')
cat("\033[1;34m## 마지막 단어인 시/군/구를 제외한 후 area4에 저장  \033[0m ", '\n')
cat("   ", '\n')
cat("  grdp$area4 <- NA ", '\n')
cat("  for(i in 1:n){ ", '\n')
cat("  N2char<- ( nchar(grdp$area2[i]) - 1 ) ", '\n')
cat("  grdp$area4[i] <- substring(grdp$area2[i], 1, N2char) } ", '\n')
cat("   ", '\n')

} }

